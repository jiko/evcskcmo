<!doctype html>
<html lang="en">
	<head>
    <meta charset='utf-8'>
    <title>Electric Vehicle Charging Stations in Kansas City, MO</title>
    <script src="https://maps.googleapis.com/maps/api/js?sensor=true"></script>
	<script src="gmaps.min.js"></script>
	<script>
    var map;
    function initialize() {
  	    map = new GMaps({
          div: '#map_canvas',
          zoom: 14,
          lat: 39.08,
          lng: -94.80
        });
        map.loadFromKML({
          url: 'https://raw.github.com/jiko/evcskcmo/gh-pages/EVCSKCMO.kml',
          preserveViewport: true,
        });
        GMaps.geolocate({
            success: function(position) {
                var lat = position.coords.latitude;
                var lng = position.coords.longitude;
                map.setCenter(lat, lng);
                map.addMarker({
                    lat: lat,
                    lng: lng,
                    title: 'You Are Here',
                    click: function(e) {
                        alert('You clicked on yourself.');
                    }
                });
            },
            error: function(error) {
                alert('Geolocation failed: '+error.message);
            },
            not_supported: function() {
                alert("Your browser does not support geolocation");
            },
            always: function() {
                console.log("Geolocation done!");
            }
        });
    }
  </script>
	<style>
		html, body {
			height: 100%;
			margin: 0;
			padding: 0;
			font-family: sans-serif;
	   	}

		#map_canvas {
			height: 100%;
		}
	</style>
	</head>			    
  <body onload="initialize()">
		<div id="map_canvas"></div>
	</body>
</html>
